---
- hosts: devpc

  vars:
    state: present

  tasks:
    - name: Install keepassxc via snap
      become: true
      community.general.snap:
        name: keepassxc
        state: present
        classic: true
      when: state == 'present'

    - name: Uninstall keepassxc via snap
      become: true
      community.general.snap:
        name: keepassxc
        state: absent
      when: state == 'absent'
